plugins:
  security-scan:
    class: com.hsbc.ci.engine.core.plugin.gates.SecurityScanGate
    version: "1.0.0"
    enabled: true
    config:
      scanners:
        - sast
        - dast
        - foss
      threshold: HIGH
      api-url: ${SECURITY_API_URL}
      
  sonarqube:
    class: com.hsbc.ci.engine.core.plugin.gates.SonarQubeGate
    version: "1.0.0"
    enabled: true
    config:
      url: https://sonar.company.com
      token: ${SONAR_TOKEN}
      project-key: ${SONAR_PROJECT_KEY}
      
  slack-notify:
    class: com.hsbc.ci.engine.core.plugin.notifiers.SlackNotifier
    version: "1.0.0"
    enabled: true
    config:
      webhook: ${SLACK_WEBHOOK}
      channel: "#ci-deployments"
      
  email-notify:
    class: com.hsbc.ci.engine.core.plugin.notifiers.EmailNotifier
    version: "1.0.0"
    enabled: true
    config:
      smtp-host: smtp.company.com
      smtp-port: 587
      from: ci-engine@company.com
      to:
        - team@company.com
        
  performance-test:
    class: com.hsbc.ci.plugins.PerformanceTestPlugin
    version: "1.0.0"
    enabled: false
    config:
      tool: k6
      k6-options:
        vus: 100
        duration: 5m
      thresholds:
        - name: api-response-time
          p95: 500ms
        - name: error-rate
          max: 1%
          
  chaos-engineering:
    class: com.hsbc.ci.plugins.ChaosEngineerPlugin
    version: "1.0.0"
    enabled: false
    config:
      tool: litmus
      experiments:
        pod-kill:
          enabled: true
          chaos-duration: 30s
        network-partition:
          enabled: true
